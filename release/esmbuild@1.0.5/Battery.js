var v=Object.create;var l=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var M=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var E=e=>l(e,"__esModule",{value:!0});var L=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var T=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of h(t))!C.call(e,u)&&u!=="default"&&l(e,u,{get:()=>t[u],enumerable:!(r=y(t,u))||r.enumerable});return e},B=e=>T(E(l(e!=null?v(M(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var x=L((U,c)=>{"use strict";c.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var u,o,a;if(Array.isArray(t)){if(u=t.length,u!=r.length)return!1;for(o=u;o--!=0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),u=a.length,u!==Object.keys(r).length)return!1;for(o=u;o--!=0;)if(!Object.prototype.hasOwnProperty.call(r,a[o]))return!1;for(o=u;o--!=0;){var f=a[o];if(!(f==="_owner"&&t.$$typeof)&&!e(t[f],r[f]))return!1}return!0}return t!==t&&r!==r}});import s from"react";import{useEffect as b,useState as w}from"react";function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function p(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var A=typeof window!="undefined",m=typeof navigator!="undefined";var g=B(x()),S=g.default;var i=m?navigator:void 0,P=i&&typeof i.getBattery=="function";function D(){return{isSupported:!1}}function F(){var e=w({isSupported:!0,fetched:!1}),t=e[0],r=e[1];return b(function(){var u=!0,o=null,a=function(){if(!(!u||!o)){var f={isSupported:!0,fetched:!0,level:o.level,charging:o.charging,dischargingTime:o.dischargingTime,chargingTime:o.chargingTime};!S(t,f)&&r(f)}};return i.getBattery().then(function(f){!u||(o=f,n(o,"chargingchange",a),n(o,"chargingtimechange",a),n(o,"dischargingtimechange",a),n(o,"levelchange",a),a())}),function(){u=!1,o&&(p(o,"chargingchange",a),p(o,"chargingtimechange",a),p(o,"dischargingtimechange",a),p(o,"levelchange",a))}},[]),t}var d=P?F:D;var Q=()=>{let e=d();return e.isSupported?e.fetched?s.createElement("div",null,s.createElement("strong",null,"Battery sensor"),":\xA0\xA0 ",s.createElement("span",null,"supported")," ",s.createElement("br",null),s.createElement("strong",null,"Battery state"),": ",s.createElement("span",null,"fetched")," ",s.createElement("br",null),s.createElement("strong",null,"Charge level"),":\xA0\xA0"," ",s.createElement("span",null,(e.level*100).toFixed(0),"%")," ",s.createElement("br",null),s.createElement("strong",null,"Charging"),":\xA0\xA0"," ",s.createElement("span",null,e.charging?"yes":"no")," ",s.createElement("br",null),s.createElement("strong",null,"Charging time"),":\xA0\xA0",s.createElement("span",null,e.chargingTime?e.chargingTime:"finished")," ",s.createElement("br",null),s.createElement("strong",null,"Discharging time"),":\xA0\xA0"," ",s.createElement("span",null,e.dischargingTime)):s.createElement("div",null,s.createElement("strong",null,"Battery sensor"),": ",s.createElement("span",null,"supported")," ",s.createElement("br",null),s.createElement("strong",null,"Battery state"),": ",s.createElement("span",null,"fetching")):s.createElement("div",null,s.createElement("strong",null,"Battery sensor"),": ",s.createElement("span",null,"not supported"))};export{Q as Battery};
